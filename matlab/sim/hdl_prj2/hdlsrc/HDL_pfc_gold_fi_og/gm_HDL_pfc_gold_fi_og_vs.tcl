###########################################################################
# Auto generated cosimulation 'tclstart' script 
###########################################################################
#  Source Model         : HDL_pfc_gold_fi_og
#  Generated Model      : gm_HDL_pfc_gold_fi_og
#  Cosimulation Model   : gm_HDL_pfc_gold_fi_og_vs
#
#  Source DUT           : gm_HDL_pfc_gold_fi_og_vs/simscape_system
#  Cosimulation DUT     : gm_HDL_pfc_gold_fi_og_vs/simscape_system_vs
#
#  File Location        : hdl_prj2\hdlsrc\HDL_pfc_gold_fi_og\gm_HDL_pfc_gold_fi_og_vs.tcl
#  Created              : 2025-05-02 06:15:32
#
#  Generated by MATLAB 24.2, HDL Coder 24.2, and Simulink 24.2
###########################################################################

###########################################################################
#  ClockName           : clk
#  ResetName           : reset 
#  ClockEnableName     : clk_enable
#
#  ClockLowTime        : 5ns
#  ClockHighTime       : 5ns
#  ClockPeriod         : 10ns
#
#  ResetLength         : 20ns
#  ClockEnableDelay    : 10ns
#  HoldTime            : 2ns
###########################################################################

###########################################################################
#  ModelBaseSampleTime   : 1.386e-08
#  DutBaseSampleTime     : 1.386e-08
#  OverClockFactor     : 1
###########################################################################

###########################################################################
#  Mapping of DutBaseSampleTime to ClockPeriod
#
#  N = (ClockPeriod / DutBaseSampleTime) * OverClockFactor
#  1 sec in Simulink corresponds to 7.215e+08ns in the HDL Simulator(N = 7.215e+08)
#
###########################################################################

###########################################################################
#  ResetHighAt          : (ClockLowTime + ResetLength + HoldTime)
#  ResetRiseEdge        : 27ns
#  ResetType            : sync
#  ResetAssertedLevel   : 1
#
#  ClockEnableHighAt    : (ClockLowTime + ResetLength + ClockEnableDelay + HoldTime)
#  ClockEnableRiseEdge  : 37ns
###########################################################################



exec xvlog --work work simscape_system_tc.v SimpleDualPortRAM_generic.v ShiftRegisterRAM_Wrapper_generic.v FET_CTRL.v dot_product_9.v hNNewMatrixB.v dot_product_6.v hNNewMatrixA.v dot_product_7.v hNNewMatrixC.v dot_product_7_block.v hNNewMatrixD.v HDL_Subsystem.v real2uint8.v simscape_system.v 
exec xelab simscape_system --timescale 1ps/1ps --override_timeunit --override_timeprecision -dll --snapshot design -debug wave 

cd ../../../

# The xsim.dir must be in PWD
# - save off existing xsim.dir
if {[file exists xsim.dir] == 1} {
    set mtime [file mtime xsim.dir]
    set mtimestamp [clock format $mtime -format %Y%m%d_%H%M%S]
    set xsim_savefile "xsim.dir.$mtimestamp"
    file rename xsim.dir $xsim_savefile
}
# - copy up newly elaborated xsim.dir area from project to the current working directory.
set proj_xsim_dir {hdl_prj2\hdlsrc\HDL_pfc_gold_fi_og/xsim.dir}
set proj_mtime [file mtime "$proj_xsim_dir/design"]
file copy -force $proj_xsim_dir .
file mtime xsim.dir $proj_mtime

